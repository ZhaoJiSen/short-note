---
title: Rolldown
createTime: 2026/02/25 11:12:49
permalink: /engineering/kjx2cc9y/
---

Rolldown 可以理解为新一代高性能打包内核方向。对 Vite 用户来说，重点不是“记新名词”，而是搞清楚什么时候值得切换、切换后要回归哪些点。

## Rolldown 解决什么问题

在大型工程中，传统 JS 打包链路的瓶颈常出现在：
1. 构建阶段 CPU 开销高。  
2. 大量模块图遍历导致构建时长波动。  
3. 插件链路复杂时的吞吐和稳定性问题。  

Rolldown 的价值主要体现在“更高性能的构建执行层”。

## 在 Vite 项目中的使用思路

你可以把它当成“可逐步引入的构建升级”，而不是一次性全量替换。

:::code-tabs
@tab 先保守切换构建命令
```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  }
}
```

@tab 灰度验证清单
```txt
1. 对比构建耗时（冷构建/热构建）
2. 对比产物结构（chunk 命名、体积、hash 稳定性）
3. 回归路由懒加载与动态 import
4. 回归第三方插件行为
```
:::

## 迁移时关注点

:::table full-width
| 关注点 | 为什么要看 | 建议 |
| --- | --- | --- |
| 插件兼容性 | 插件可能依赖旧构建细节 | 逐个回归关键插件 |
| 产物一致性 | 影响线上缓存和监控 | 对比 chunk 与 sourcemap |
| CI 稳定性 | 构建平台差异会放大问题 | 分环境灰度发布 |
| 故障回滚 | 新链路不稳定时需要兜底 | 保留原构建脚本一段时间 |
:::

## 一个可落地的引入策略

::::steps
1. 在分支上先做构建性能对比，不直接上线。  
2. 保留旧脚本，新增并行脚本做 AB 对比。  
3. 先在测试与预发环境验证产物一致性。  
4. 生产灰度发布后，再决定是否全量切换。  
::::

:::details 实战建议
不要把“构建变快”作为唯一目标。工程上更重要的是：产物稳定、插件兼容、回滚可控。
:::
