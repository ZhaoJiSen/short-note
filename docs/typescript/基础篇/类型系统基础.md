---
title: 类型系统基础
createTime: 2026/02/09 21:32:00
permalink: /typescript/type-system/
---

## 基础类型

TypeScript 常见类型：
- 原始类型：`string`、`number`、`boolean`、`bigint`、`symbol`、`null`、`undefined`
- 对象类型：对象、数组、元组、函数、类实例等

```ts
const name: string = 'zjs'
const age: number = 18
const online: boolean = true
const id: bigint = 9007199254740993n
```

> [!TIP]
> `String`、`Number`、`Boolean` 是包装对象类型，日常类型标注请用小写原始类型。

## 数组、元组、对象

```ts
const tags: string[] = ['ts', 'vue']
const scores: Array<number> = [100, 98]

const userTuple: [id: number, name: string] = [1, 'zjs']

interface User {
  id: number
  name: string
  nickname?: string
}

const user: User = { id: 1, name: 'zjs' }
```

### readonly 的含义

```ts
interface Profile {
  readonly id: string
  name: string
}

const p: Profile = { id: 'u_1', name: 'A' }
// p.id = 'u_2' // 报错：只读属性

const list: readonly number[] = [1, 2, 3]
// list.push(4) // 报错：只读数组
```

## 联合类型与交叉类型

### 联合类型 `|`

表示“可能是多个类型之一”。

```ts
function formatId(id: string | number) {
  if (typeof id === 'string') {
    return id.toUpperCase()
  }
  return id.toString()
}
```

### 交叉类型 `&`

表示“同时满足多个类型”。

```ts
interface PersonBase {
  name: string
}

interface Worker {
  company: string
}

type Employee = PersonBase & Worker

const e: Employee = {
  name: 'zjs',
  company: 'acme',
}
```

## 字面量类型与 `as const`

字面量类型用于表达更精确的值范围。

```ts
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'

function request(method: HttpMethod) {
  return method
}

const method = 'GET'
// request(method) // 报错：method 推导为 string

const stableMethod = 'GET' as const
request(stableMethod) // OK
```

## 类型缩小（Narrowing）

TypeScript 会根据控制流自动缩小类型范围。

```ts
function print(value: string | Date) {
  if (value instanceof Date) {
    console.log(value.toISOString())
    return
  }

  console.log(value.toUpperCase())
}
```

常见缩小方式：
- `typeof`
- `instanceof`
- `in`
- 字面量相等判断（`===` / `!==`）
- 自定义类型守卫（`arg is Xxx`）

```ts
interface Fish {
  swim: () => void
}

interface Bird {
  fly: () => void
}

function isFish(animal: Fish | Bird): animal is Fish {
  return 'swim' in animal
}
```

## `null` / `undefined`

在开启 `strictNullChecks` 时，`null` 与 `undefined` 不再能随意赋值给其他类型。

```ts
let title: string
// title = undefined // 报错

let optionalTitle: string | undefined
optionalTitle = undefined // OK
```
