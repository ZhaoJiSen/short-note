---
title: 适配器模式
tags:
  - 设计模式
createTime: 2026/02/27 15:48:49
permalink: /blog/2x0xyv8x/
---

适配器模式用于把“不兼容接口”转换成调用方期望的接口。

## 解决的问题

接入旧系统或第三方 SDK 时，接口签名不一致，直接改业务代码成本高。

## 结构组成

:::table full-width

| 角色 | 作用 |
| --- | --- |
| Target | 业务期望的接口 |
| Adaptee | 现有不兼容实现 |
| Adapter | 做接口转换 |

:::

## 示例

```ts
// 业务期望的日志接口
interface Logger {
  log(level: 'info' | 'error', message: string): void
}

// 旧系统日志接口（不兼容）
class LegacyLogger {
  write(text: string) {
    console.log(`[legacy] ${text}`)
  }
}

class LoggerAdapter implements Logger {
  constructor(private legacy: LegacyLogger) {}
  log(level: 'info' | 'error', message: string) {
    this.legacy.write(`${level.toUpperCase()}: ${message}`)
  }
}

function runTask(logger: Logger) {
  logger.log('info', 'task started')
  logger.log('error', 'task failed')
}

runTask(new LoggerAdapter(new LegacyLogger()))
```

## 适用场景

- 旧接口升级平滑迁移
- 多供应商 SDK 统一封装
- 在不改老代码的前提下适配新业务

