---
title: 单例模式
tags:
  - 设计模式
createTime: 2026/02/27 15:47:58
permalink: /blog/mn2h9rmh/
---

单例模式保证一个类在系统中只有一个实例，并提供全局访问点。

## 解决的问题

有些对象天然只能有一个，比如全局配置、缓存中心、埋点上报器。多实例会导致状态不一致。

## 结构组成

:::table full-width

| 角色 | 作用 |
| --- | --- |
| Singleton | 私有构造 + 静态获取实例方法 |

:::

## 示例

```ts
class ConfigCenter {
  private static instance: ConfigCenter | null = null
  private data = new Map<string, string>()

  private constructor() {}

  static getInstance() {
    if (!ConfigCenter.instance) {
      ConfigCenter.instance = new ConfigCenter()
    }
    return ConfigCenter.instance
  }

  set(key: string, value: string) {
    this.data.set(key, value)
  }

  get(key: string) {
    return this.data.get(key)
  }
}

const a = ConfigCenter.getInstance()
const b = ConfigCenter.getInstance()

a.set('theme', 'dark')
console.log(b.get('theme')) // dark
console.log(a === b) // true
```

## 适用场景

- 全局配置中心
- 连接池管理器
- 全局事件总线

