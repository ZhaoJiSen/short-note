---
title: 安装与基本配置
createTime: 2026/01/25 14:54:44
permalink: /vue/u9k2p8rq/
---

## 创建 Nuxt 项目

使用官方的脚手架即可创建一个 Nuxt 项目

:::code-tabs
@tab pnpm
```bash
pnpm create nuxt@latest <project-name>
```

@tab bun
```bash
bun create nuxt@latest <project-name>
```
:::

一个典型的 Nuxt 项目结构如下

::: file-tree

- hello-nuxt
  - assets       资源目录（参与打包处理，如 scss、图片）
  - components   组件目录（自动导入）
  - composables  组合式 API 目录（自动导入）
  - layouts      布局
  - middleware   路由中间件
  - server       Nitro 服务端路由/API
  - pages        页面目录，基于文件结构自动生成路由
    - index.vue  项目首页
  - plugins      插件目录
  - public       静态资源目录
  - app.vue      应用入口
  - app.config.ts  应用配置（defineAppConfig）
  - nuxt.config.ts Nuxt 框架配置（css、ssr、vite、app、modules 等）
  - package-lock.json 
  - package.json
  - README.md
  - tsconfig.json
  :::

:::details `package.json` 中的命令
1. `build: nuxt build`: 生成生产构建产物
2. `dev: nuxt dev`: 启动开发服务，支持 HMR 与调试
3. `generate: nuxt generate`: 生成静态站点（SSG）产物
4. `preview: nuxt preview`: 本地预览生产构建或静态产物
5. `postinstall: nuxt prepare`: 生成类型与自动导入
:::


## 应用入口

[+NuxtPage]: 相当于 `vue-router` 的 `RouterView`
[+NuxtLayout]: `NuxtLayout` 会根据页面的 `definePageMeta({ layout })` 切换布局，默认使用 `layouts/default.vue`

在 Nuxt 中 `App.vue` 会被视为应用的根入口，默认情况下 Nuxt 会为每个路由渲染页面内容，`App.vue` 通常负责决定 ==页面被包在什么结构里== 以及 ==入口处要做哪些全局事情==

:::details 常见用途
- 使用 `NuxtLayout`[+NuxtLayout] 定义页面布局或自定义布局骨架
- 使用 `NuxtPage`[+NuxtPage] 定义路由占位以渲染页面
- 使用 `beforeEach` 监听全局路由事件（不推荐，示例用途）
- 编写全局样式或引入全局样式
:::

如果创建了 `App.vue`，那么一定要保留 `NuxtPage`，否则页面不会渲染
```vue
<template>
  <NuxtLayout>
    <!-- 页面内容 -> vue-router -->
    <NuxtPage />
  </NuxtLayout>
</template>

<script lang="ts" setup>
const router = useRouter()

router.beforeEach((to, from) => {
  console.log('beforeEach', to, from)
})
</script>
```

> [!INFO]
> - 全局样式除了写在 `app.vue`，也可以通过 `nuxt.config.ts` 的 `css` 字段统一引入
> - 全局路由守卫在 Nuxt 中更推荐用 `middleware/*.global.ts`，这样 SSR/CSR 逻辑更一致


## 框架配置

框架配置 `nuxt.config.ts` 位于项目根目录，用于配置框架能力，例如 `css`、`vite`、`modules` 等，具体可以参考: <https://nuxt.com/docs/api/configuration/nuxt-config>

### 运行时配置

运行时配置（`runtimeConfig`）主要用于 =="运行时可变" 的配置==，可以调用 `useRuntimeConfig` 来获取运行时信息

> [!IMPORTANT]
> 服务端可以读取 `runtimeConfig` 中的全部字段；客户端只能读取 `public` 下的内容

:::code-tabs
@tab app.config.ts
```ts
export default defineNuxtConfig({
  runtimeConfig: {
    apiSecret: 'aabbcc', // 仅服务端
    public: {
      baseURL: 'https://api.example.com',
    },
  },
})
```

@tab app.vue
```vue
<script lang="ts" setup>
const config = useRuntimeConfig()

if (process.server) {
  console.log('API secret:', config.apiSecret)  // apiSecret 仅在 server 端存在
}
</script>
```
:::

> [!NOTE]
> - 在 Nuxt 中，最常用的环境判断是 `process.server` / `process.client`
> - 在 Vite 环境中也可以使用 `import.meta.server` / `import.meta.client`

### 应用配置

应用配置（`appConfig`） 用于 =="构建时确定" 的公共配置==，例如主题、品牌色等，可以调用 `useAppConfig` 来获取应用配置信息，应用配置可以写在 `nuxt.config.ts`，也可以独立放在 `app.config.ts`

:::code-tabs
@tab app.config.ts
```ts
export default defineAppConfig({
  theme: 'light',
})
```

@tab app.vue
```vue
<script lang="ts" setup>
const appConfig = useAppConfig()
</script>
```
:::


#### 在 env 定义环境变量

Nuxt 会读取项目根目录的 `.env` 文件，因此可以把环境变量放在这些文件里。这些环境变量可按不同环境被拆分：`.env`、`.env.local`、`.env.development`、`.env.production` 等

> [!TIP]
> `.env` 文件不会被打包进客户端代码，但 NUXT_PUBLIC_ 前缀的变量会暴露给浏览器，所以需要避免存放敏感信息

```bash
# .env
NUXT_API_SECRET=server_secret
NUXT_PUBLIC_BASE_URL=https://api.example.com
```

:::details 对应规则
- `NUXT_` 前缀：写入 `runtimeConfig`
- `NUXT_PUBLIC_` 前缀：写入 `runtimeConfig.public`
:::

### app 配置

以下为AI生成的图文笔记的内容
---一、Nuxt3配置 
1. SEO优化配置
1）charset配置 

配置方法: 在nuxt.config.ts中设置charset为"UTF-8"，注意字母需要大写
作用: 确保网页能正确显示各种语言字符，避免乱码问题
2）viewport配置 

基本配置: "width=device-width, initial-scale=1.0"
移动端优化: 可添加" "限制缩放
注意事项: 非移动端网站可不限制缩放，保持默认配置即可
3）meta配置 
keywords设置: 使用name="keywords"和content属性设置网站关键词
description设置: 使用name="description"描述网站主要内容
数组格式: meta配置为数组类型，可添加多个meta标签
4）link配置 
图标设置: rel可设为"icon"或"shortcut icon"，href指定图标路径
类型指定: type="image/x-icon"明确图标格式
扩展应用: 可用于预加载资源等优化操作
5）style配置 
全局样式: 可直接在配置中添加CSS样式
示例: 设置body{color:red}使所有页面文字变红
数组格式: 支持添加多个样式块
6）script配置 

外部脚本: 通过src属性引入外部JS文件
位置控制: 使用body:true可将脚本放在body底部
多脚本支持: 数组格式可添加多个script标签
2. 动态配置 
1）useHead使用 

动态设置: 可在app.vue中使用useHead动态修改head内容
响应式支持: 支持ref等响应式变量
body属性: 通过bodyAttrs可设置body的class等属性
优先级: 高于nuxt.config.ts中的静态配置
2）内置组件配置 

组件名称: 使用大写的Meta、Title等内置组件
模板中使用: 可直接在template中添加SEO元素
自动注入: 组件内容会自动注入到页面head中
简洁语法: 相比useHead更直观易读
3. 配置优先级 
1）优先级顺序

最高级: 内置组件配置(Title、Meta等)
中级: useHead动态配置
基础级: nuxt.config.ts静态配置
覆盖规则: 高级配置会覆盖低级配置的相同属性
二、知识小结
知识点核心内容技术要点实现方式SEO优化配置通过三种方式实现页面头部信息配置title/meta/link标签配置1. 配置文件静态写入
2. useHead动态注入
3. 内置组件<Head>移动端适配viewport参数配置maximum-scale=1.0
minimum-scale=1.0
user-scalable=no通过meta标签控制页面缩放行为字符编码设置UTF-8编码声明大小写敏感问题<meta charset="UTF-8">资源加载优化外部脚本/样式加载script标签的body属性控制注入位置支持http://code.jquery.com等CDN资源优先级规则配置冲突处理机制内置组件 > useHead > 配置文件通过template中的组件具有最高优先级

### SSR 配置
