---
title: AMD 与 CMD
createTime: 2025/11/18 22:24:29
permalink: /engineering/kxn1b2d2/
---

## 浏览器模块化的难题

在 CommonJS 下使用 `require` 导入一个模块时，首先会通过模块路径读取本地文件，然后将代码放入 IIFE 中执行并将 `module.exports` 作为返回值返回。因此可以认为，CommonJS 是同步的，必须要等到文件加载并执行后代码才能继续向后执行
 

但是若想要把 CommonJS 放到浏览器端时，就会遇到一些问题：
1. 浏览器要想读取文件，那么就需要向服务器发送网络请求，而网路请求的传输效率要远远低于 node 环境中读取本地文件的性能，且 CommonJS 是同步的，这会极大降低网站性能
2. 当读取 JavaScript 内容并将其放入一个环境来执行，需要浏览器厂商的支持，但由于 CommonJS 属于社区规范并非官方规范，因此厂商并不愿意去支持

只要能够解决以上两点，并非不能在浏览器中实现模块化，不管是 AMD 还是 CMD 其实本质上都是采用了类似的解决方案：
1. JS 加载浪费时间：做成异步即可，加载后调用回调函数
2. 模块中代码需要放入单独环境中执行：编写模块时直接放入函数中即可

 
## Asynchronous Module Definition（AMD）


AMD 即 ==模块异步加载机制==。AMD 中导入和导出模块，必须放置在 define 函数中

```js
define([依赖的模块列表], (模块名称列表) => {}) {
  内部实现

  return 导出的内容
}
```


## CMD
