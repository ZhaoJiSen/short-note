---
title: 枚举
createTime: 2025/09/26 17:44:19
permalink: /rust/7342g17i/
---

## 枚举

枚举（enum）通过列可能的成员来定义一个==枚举类型==

```rust
enum PokerSuit {
    Clubs,
    Spades,
    Diamonds,
    Hearts,
}
```

### 枚举值

与其他语言不同的是，Rust 中的枚举可以存在==枚举值==，例如创建 `PokerSuit` 枚举类型的两个成员实例 `heart` 与 `diamond`

```rust
let heart = PokerSuit::Hearts;
let diamond = PokerSuit::Diamonds;
```

通过 `::` 操作符来访问 `PokerSuit` 枚举类型的成员，虽然 `heart` 与 `diamond` 是基于 `PokerSuit` 下的 `Hearts` 与 `Diamonds` 成员实例化的，但是它们全都属于 `PokerSuit` 枚举类型

```rust
fn print_suit(card: PokerSuit) {
  println!("Suit is {}", card);
}

fn main() {
  let heart = PokerSuit::Hearts;
  let diamond = PokerSuit::Diamonds;

  print_suit(heart);
  print_suit(diamond);
}
```

而上述所谓的 "枚举值" 指的是可以在枚举成员中添加值，然后直接将==数据信息关联到枚举成员中==，例如：

```rust
enum PokerSuit {
  Clubs(u8),
  Spades(u8),
  Diamonds(char),
  Hearts(char),
}

fn main() {
  let c1 = PokerSuit::Clubs(1);
  let c2 = PokerSuit::Diamonds('A');
}
```

### Option 枚举

在 Rust 中，没有其他语言中的 `null` 值，取而代之的是 `Option` 枚举类型。`Option` 枚举包含两个成员，一个成员表示含有：`Some(T)`，另一个成员表示不含有：`None`

```rust
enum Option<T> {
  Some(T),
  None,
}
```

::: tip
`Option<T>` 枚举被包含在了 `prelude` 中，因此无需将其显示引用到文件中，其成员 `Some` 与 `None` 也是如此。
:::

如果使用 `None` 成员， 那么则需要显式地声明 `Option<T>` 的类型，编译器无法只通过 `None` 值来推断出 `Some` 成员的类型

```rust
let some_number = Some(5);
let some_char = Some('e');

// 显示声明
let absent_number: Option<i32> = None;
```
